<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>INTRUSION DETECTION</title>
        <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.css"></link> -->
        <!-- Favicon-->
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="http://127.0.0.1:5000/static/css/styles.css" rel="stylesheet" />
        <style>
            #Box {
                padding: 25px;
                background-color: white;
                height: 65vh;
            }
            .row {
                margin-top: 150px;
            }
            body {
                background-color: aliceblue;
            }

            .button1 {
                appearance: button;
                background-color: transparent;
                background-image: linear-gradient(to bottom, rgb(160, 245, 174), #37ee65);
                border: 0 solid #e5e7eb;
                border-radius: .5rem;
                box-sizing: border-box;
                color: #482307;
                column-gap: 1rem;
                cursor: pointer;
                display: flex;
                font-family: ui-sans-serif, system-ui, -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
                font-size: 100%;
                font-weight: 700;
                line-height: 24px;
                margin: 0;
                outline: 2px solid transparent;
                padding: 1rem 1.5rem;
                text-align: center;
                text-transform: none;
                transition: all .1s cubic-bezier(.4, 0, .2, 1);
                user-select: none;
                -webkit-user-select: none;
                touch-action: manipulation;
                box-shadow: -6px 8px 10px rgba(81, 41, 10, 0.1), 0px 2px 2px rgba(81, 41, 10, 0.2);
                display: none;
            }

            .button2 {
                appearance: button;
                background-color: transparent;
                background-image: linear-gradient(to bottom, rgb(252, 162, 162), #ee3737);
                border: 0 solid #e5e7eb;
                border-radius: .5rem;
                box-sizing: border-box;
                color: #482307;
                column-gap: 1rem;
                cursor: pointer;
                display: flex;
                font-family: ui-sans-serif, system-ui, -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
                font-size: 100%;
                font-weight: 700;
                line-height: 24px;
                margin: 0;
                outline: 2px solid transparent;
                padding: 1rem 1.5rem;
                text-align: center;
                text-transform: none;
                transition: all .1s cubic-bezier(.4, 0, .2, 1);
                user-select: none;
                -webkit-user-select: none;
                touch-action: manipulation;
                box-shadow: -6px 8px 10px rgba(81, 41, 10, 0.1), 0px 2px 2px rgba(81, 41, 10, 0.2);
                display: none;
            }

            .scroll-box {
                max-height: 300px;
                overflow-y: scroll;
                padding: 15px;
                background-color: #f9f9f9;
                border: 1px solid #ddd;
                border-radius: 5px;
            }
        </style>
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
            <div class="container">
                <!-- <li class="nav-item"><a class="nav-link" href="#page-top">AUTISM</a></li> -->
                <a class="navbar-brand h1" href="/ML">INTRUSION DETECTION</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars ms-1"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav text-uppercase ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link" href="/home">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="/IDS">IDS</a></li>
                        <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div id="Box">
                        <center><h3>INTRUSION DETECTION</h3></center>
                        <hr>
                        <br>
                        <form method="post" action="/IDS">
                            <input type="LInk" class="form-control" name="Link" id="Link" placeholder="Enter link" />
                            <br>
                            <input type="submit" value="Submit" class="btn btn-success form-control">
                        </form>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div id="Box">
                        <center><h3>RESPONSE</h3></center>
                        <hr>
                        <br>
                        <p>{{url}}</p>
                        <br>
                        <p id="prediction"></p>
                        <br>
                        <button class="button2" id="button2" role="button" onclick="window.open('{{url}}')" target="_blank">Still want to Continue</button>
                        <button class="button1" id="button1" role="button" onclick="window.open('{{url}}')" target="_blank">Continue</button>
                    </div>
                </div>
                <div class="col-lg-4">
                    {% if feature_details %}
                    <h2>Feature Details</h2>
                    <div class="scroll-box">
                        <ul>
                            {% for feature, value in feature_details.items() %}
                                {% if value == 0 %}
                                <li>{{ feature }}: PARTIAL</li>
                                {% elif value == -1 %}
                                <li>{{ feature }}: NO </li>
                                {% else %}
                                <li>{{ feature }}: YES </li>
                                {% endif %}
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Bootstrap core JS-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="http://127.0.0.1:5000/static/js/scripts.js"></script>
        <script>
            if('{{msg}}'){
                alert('{{msg}}');
            }

            let x = '{{xx}}';
            let num = x*100;
            if (0<=x && x<0.50){
                num = 100-num;
            }
            let txtx = num.toString();
            if(x<=1 && x>=0.50){
                var label = "Website is "+txtx +"% safe to use...";
                document.getElementById("prediction").innerHTML = label;
                document.getElementById("button1").style.display="block";
            }
            else if (0<=x && x<0.50){
                var label = "Website is "+txtx +"% unsafe to use..."
                document.getElementById("prediction").innerHTML = label ;
                document.getElementById("button2").style.display="block";
            }
        </script>
    </body>
</html>
